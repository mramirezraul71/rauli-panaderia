name = "rauli-international-proxy"
main = "src/worker.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[vars]
ENVIRONMENT = "production"
ALLOWED_ORIGINS = "*"
PROXY_VERSION = "1.0.0"

# Limites para evitar abuso
[limits]
cpu_ms = 50000

# KV Store para cache (opcional)
[[kv_namespaces]]
binding = "CACHE"
id = "tu-kv-namespace-id"
preview_id = "tu-kv-preview-id"

# Configuraci√≥n de entorno
[env.production]
name = "rauli-international-proxy"
vars = { ENVIRONMENT = "production" }

[env.staging]
name = "rauli-international-proxy-staging"
vars = { ENVIRONMENT = "staging" }

# Routes (si tienes dominio personalizado)
[[routes]]
pattern = "rauli-proxy.tudominio.com/*"
zone_name = "tudominio.com"

# Custom domain (opcional)
# [env.production]
# routes = [
#   { pattern = "rauli-proxy.tudominio.com/*", zone_name = "tudominio.com" }
# ]
